import "./contact.scss";
import { motion } from "framer-motion";
import { useRef, useState } from "react";
import emailjs from '@emailjs/browser';


const variants = {
    initial: {
        y: 500,
        opacity: 0,
    },
    animate: {
        y: 0,
        opacity: 1,
        transition: {
            duration: 0.5,
            staggerChildren: 0.1
        },
    },
}

const Contact = () => {

    const formRef = useRef();

    const [error, setError] = useState(false)
    const [success, setSuccess] = useState(false)
    const sendEmail = (e) => {
        e.preventDefault();
    
        emailjs.sendForm('service_t6fczga', 'template_wnby09f', formRef.current, 'hOmnF35PR-mR6oFOb')
          .then((result) => {
              setSuccess(true);
          }, (error) => {
              setError(true);
          });
      };

    return (

        <motion.div className="contact" variants={variants} initial="initial" whileInView="animate">
            <motion.div className="textContainer">
                <motion.h1>Work With Me</motion.h1>
                <motion.div className="item" variants={variants}>
                    <h2>Email</h2>
                    <span>qli12@umd.edu</span>
                </motion.div>
                <motion.div className="item" variants={variants}>
                    <h2>Address</h2>
                    <span>College Park, Maryland, USA</span>
                </motion.div>
                
            </motion.div>

            
            <motion.div className="formContainer">
                <motion.div 
                  className="mailSVG" 
                  initial={{opacity: 1}} 
                  whileInView={{opacity: 0}} 
                  transition={{ delay: 1, duration: 1}}>
                    <svg width="800px" height="800px" viewBox="0 0 512 512" enable-background="new 0 0 512 512" id="Layer_1" version="1.1" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">

                    

                        <path clip-rule="evenodd" d="M370.625,192.909c-0.417-2.729-2.146-6.356-2.776-8.657   c-6.294-23.377-18.356-44.002-41.415-44.34c-2.008,0.038-3.926,0.241-5.771,0.57c-0.883-0.373-1.854-0.581-2.876-0.564   c-0.123,0-56.658,0.873-113.538,1.249l-4.293-25.012l53.689-9.296l-6.287-35.925l-53.572,9.275l-2.376-13.841   c-0.663-3.875-4.344-6.476-8.213-5.813c-3.875,0.669-6.475,4.344-5.813,8.219l12.438,72.477   c-10.716,0.053-21.276,0.084-31.295,0.084c-23.865,0.013-37.956,19.013-44.914,41.343c-7.308,22.681-9.298,50.916-9.325,76.761   c0.007,37.898,4.48,70.501,4.5,70.696c0.48,3.531,3.485,6.144,7.048,6.144h92.493v126.649c0,3.929,3.186,7.115,7.113,7.115   c3.934,0,7.113-3.187,7.113-7.115V336.279h27.038v126.649c0,3.929,3.186,7.115,7.113,7.115c3.934,0,7.12-3.187,7.12-7.115V336.279   h21.342c0.496,0,0.987-0.052,1.463-0.152c1.258,0.253,2.594,0.188,3.883-0.295l45.536-17.075c3.262-1.225,5.084-4.593,4.493-7.907   c45.137,0,94.203,0,94.203,0V193.811L370.625,192.909z" fill="#FEE1E3" fill-rule="evenodd"/>

                        <path d="M415.168,170.7c-1.587-1.592-3.784-2.502-6.033-2.502c0,0-24.927,0-55.585,0c-3.17,0-6.413,0-9.685,0   c-0.047-0.465-0.124-0.932-0.252-1.398c-6.307-23.493-18.655-44.984-42.793-45.381c-1.941,0.042-3.796,0.232-5.587,0.531   c-0.961-0.354-1.996-0.547-3.08-0.531c-0.126,0-55.861,0.865-112.323,1.244l-2.643-15.41l52.301-9.06   c2.243-0.39,4.213-1.633,5.52-3.5c1.314-1.866,1.822-4.136,1.432-6.385l-6.289-35.926c-0.813-4.643-5.222-7.745-9.865-6.938   l-52.155,9.03l-0.931-5.421c-0.8-4.65-5.215-7.771-9.865-6.971c-4.643,0.793-7.764,5.209-6.963,9.858l12.152,70.822   c-10.139,0.048-20.118,0.076-29.611,0.075c-24.742,0.013-39.301,19.813-46.273,42.325c-7.38,22.946-9.356,51.279-9.389,77.204   c0.007,38.008,4.487,70.655,4.513,70.884c0.579,4.239,4.18,7.381,8.458,7.381h91.068v125.225c0,4.714,3.823,8.537,8.538,8.537   c4.714,0,8.537-3.823,8.537-8.537V320.63h24.189v125.225c0,4.714,3.824,8.537,8.538,8.537c4.722,0,8.538-3.823,8.538-8.537V320.63   h19.924c0.477,0,0.948-0.052,1.411-0.129c1.442,0.249,2.967,0.138,4.435-0.412l45.531-17.074c0.509-0.19,0.985-0.431,1.435-0.702   c45.82,0,96.768,0,96.768,0c2.249,0,4.446-0.911,6.033-2.505c1.593-1.587,2.504-3.79,2.504-6.033V176.735   C417.672,174.486,416.761,172.288,415.168,170.7z M218.148,82.826L175.557,90.2L172.214,71.1l42.586-7.378L218.148,82.826z    M314.69,224.152c0.124-0.132,0.245-0.232,0.349-0.309c0.978,0.155,0.408,0.101,0.966,0.686c0.188,0.344,0.351,0.891,0.423,1.28   l0.051,0.248c0.139,4.663,3.992,8.356,8.656,8.291c4.662-0.064,8.414-3.868,8.414-8.531c-0.033-0.019,0.045-0.78,0.408-1.372   c0.527-0.497-0.21-0.411,1.004-0.601c0.513,0.354,1.531,1.179,1.624,4.496v0.033c0.991,1.443-4.991,8.611-11.585,15.201   c-1.18-1.181-2.449-2.498-3.717-3.899c-2.307-2.536-4.557-5.313-6.025-7.641c-0.555-0.866-0.992-1.663-1.293-2.306   c0.4-1.465,0.388-2.991,0.01-4.425C314.207,224.759,314.474,224.411,314.69,224.152z M296.855,231.909   c0.27,1.294,0.632,2.519,1.07,3.684c-5.344,4.535-19.281,16.359-32.224,27.341c-0.033-2.644-0.053-5.343-0.053-8.096   c-0.01-13.379,0.449-27.911,1.689-42.023C278.692,220.161,290.678,227.914,296.855,231.909z M266.351,285.236   c-0.007-0.149-0.014-0.297-0.019-0.448c13.938-11.824,33.215-28.175,41.206-34.954c0.37,0.438,0.737,0.876,1.1,1.316   c5.429,5.976,10.637,10.474,10.787,10.613c3.388,2.932,8.473,2.743,11.64-0.431c3.148-3.63,8.183-7.559,12.715-12.495   l42.906,36.398C355.467,285.236,299.1,285.236,266.351,285.236z M400.596,274.641l-47.948-40.671   c0.014-0.05,0.022-0.104,0.036-0.155l47.912-30.989V274.641z M396.288,185.273l-46.342,29.977   c-3.525-5.434-9.089-8.539-14.623-8.583l-0.325,0.007c-3.864,0.024-7.289,1.284-10.041,3.089c-2.711-1.789-6.086-3.048-9.922-3.089   l-0.331-0.007c-5.162,0.044-10.331,2.735-13.861,7.482c-8.354-5.402-20.767-13.43-31.286-20.237   c0.445-2.943,0.939-5.822,1.478-8.639C308.212,185.273,369.741,185.273,396.288,185.273z M326.215,168.198   c-18.035,0-36.109,0-50.974,0c6.224-19.846,15.073-30.2,25.579-29.704C311.462,138.111,320.062,148.169,326.215,168.198z    M102.891,170.421c6.873-20.268,15.873-30.515,30.023-30.509c10.408,0,21.397-0.034,32.538-0.091l9.748,56.805   c0.799,4.65,5.214,7.771,9.857,6.972c4.649-0.793,7.771-5.208,6.971-9.858l-9.27-54.023c33.566-0.235,66.528-0.632,87.411-0.911   c-6.135,8.721-10.334,19.868-13.279,31.435c-0.142,0.555-0.27,1.128-0.407,1.688c-0.935,1.371-1.484,3.024-1.484,4.808   c0,0.424,0.042,0.838,0.102,1.247c-5.138,24.254-6.509,52.406-6.527,76.855c0,20.564,1.003,38.415,1.734,48.717H97.795   c-1.275-11.5-3.472-35.107-3.468-61.189C94.301,217.408,96.434,190.248,102.891,170.421z" fill="#959595"/>

                    
                    </svg>
                </motion.div>
                <motion.form 
                  ref={formRef}
                  onSubmit={sendEmail}
                  initial={{opacity: 0}} 
                  whileInView={{opacity: 1}} 
                  transition={{ delay: 2, duration: 1}}>
                    <input type="text" required placeholder="Name" name="name" />
                    <input type="email" required placeholder="Email" name="email" />
                    <textarea rows={8} placeholder="Message" name="message" />
                    <button>Submit</button>
                    {error && "Error"}
                    {success && "Success"}
                </motion.form>
            </motion.div>
        </motion.div>
    
    )
}
export default Contact